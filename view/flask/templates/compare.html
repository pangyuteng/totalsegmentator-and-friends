<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Papaya</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
         background-color: rgb(15, 15, 15);
         font-family: Courier;
         color: rgb(142,142,142);
         font-size: 20px;
        }
    </style>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='papaya.css')}}" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='papaya.js')}}"></script>	
    
    <script type="text/javascript">
        papaya.Container.startPapaya();
        papaya.Container.syncViewers = true;
        var manual_params = [];
        manual_params["kioskMode"]=true;
        manual_params["images"] = ["{{ image_file }}","{{ pedctseg_mask_file }}"];
        manual_params["{{ image_name }}"] = {"min": -1000, "max": 1000};
        //manual_params["{{ pedctseg_mask_basename }}"] = {"lut": "Spectrum","min":0,"max":28,"alpha":0.8};
        manual_params["luts"] = [{"name": "CustomPedctseg", "data":[
            [0, 0, 0, 0], [0.037, 0.84, 0.76, 0.42], [0.074, 0.26, 0.51, 0.4], [0.111, 0.78, 0.3, 0.48], [0.148, 0.58, 0.91, 0.5], [0.185, 0.28, 0.76, 0.62], [0.222, 0.25, 0.91, 0.98], [0.259, 0.81, 0.9, 0.31], [0.296, 0.73, 0.9, 0.68], [0.333, 0.47, 0.1, 0.43], [0.37, 0.61, 0.91, 0.97], [0.407, 0.48, 0.87, 0.26], [0.444, 0.81, 0.55, 0.01], [0.481, 0.72, 0.4, 0.82], [0.519, 0.67, 0.0, 0.49], [0.556, 0.87, 0.24, 0.33], [0.593, 0.87, 0.19, 0.57], [0.63, 0.24, 0.97, 0.8], [0.667, 0.45, 0.08, 0.32], [0.704, 0.51, 0.93, 0.11], [0.741, 0.55, 0.71, 0.55], [0.778, 0.81, 0.54, 0.96], [0.815, 0.6, 0.59, 0.44], [0.852, 0.6, 0.38, 0.58], [0.889, 0.29, 0.19, 0.19], [0.926, 0.61, 0.66, 0.48], [0.963, 0.09, 0.76, 0.88], [1.0, 0.92, 0.84, 0.9]
        ]}]; // generated by `print_lut_for_papaya.py`
        manual_params["{{ pedctseg_mask_basename }}"] = {"lut": "CustomPedctseg","min":0,"max":27};
        manual_params["smoothDisplay"] = false;
        manual_params["showOrientation"] = true;
        manual_params["mainView"] = "axial";
        manual_params["radiological"] = true;
        manual_params["ignoreNiftiTransforms"] = true;

        var totalseg_params = [];
        totalseg_params["kioskMode"]=true;
        totalseg_params["images"] = ["{{ image_file }}","{{ totalseg_mask_file }}"];
        totalseg_params["{{ image_name }}"] = {"min": -1000, "max": 1000};
        //totalseg_params["{{ totalseg_mask_basename }}"] = {"lut": "Spectrum","min":0,"max":104,"alpha":0.8};
        totalseg_params["luts"] = [{"name": "CustomTotalseg", "data":[
            [0, 0, 0, 0], [0.01, 0.84, 0.76, 0.42], [0.019, 0.26, 0.51, 0.4], [0.029, 0, 0, 0], [0.038, 0, 0, 0], [0.048, 0, 0, 0], [0.058, 0, 0, 0], [0.067, 0.58, 0.91, 0.5], [0.077, 0.58, 0.91, 0.5], [0.087, 0.67, 0.0, 0.49], [0.096, 0.81, 0.9, 0.31], [0.106, 0.73, 0.9, 0.68], [0.115, 0, 0, 0], [0.125, 0.58, 0.91, 0.5], [0.135, 0.58, 0.91, 0.5], [0.144, 0.47, 0.1, 0.43], [0.154, 0, 0, 0], [0.163, 0, 0, 0], [0.173, 0, 0, 0], [0.183, 0, 0, 0], [0.192, 0, 0, 0], [0.202, 0, 0, 0], [0.212, 0.48, 0.87, 0.26], [0.221, 0.48, 0.87, 0.26], [0.231, 0.48, 0.87, 0.26], [0.24, 0.48, 0.87, 0.26], [0.25, 0.48, 0.87, 0.26], [0.26, 0.58, 0.91, 0.5], [0.269, 0.58, 0.91, 0.5], [0.279, 0.58, 0.91, 0.5], [0.288, 0.58, 0.91, 0.5], [0.298, 0, 0, 0], [0.308, 0, 0, 0], [0.317, 0, 0, 0], [0.327, 0, 0, 0], [0.337, 0, 0, 0], [0.346, 0, 0, 0], [0.356, 0, 0, 0], [0.365, 0.81, 0.55, 0.01], [0.375, 0.72, 0.4, 0.82], [0.385, 0.87, 0.24, 0.33], [0.394, 0.24, 0.97, 0.8], [0.404, 0.45, 0.08, 0.32], [0.413, 0.45, 0.08, 0.32], [0.423, 0.24, 0.97, 0.8], [0.433, 0.45, 0.08, 0.32], [0.442, 0.51, 0.93, 0.11], [0.452, 0, 0, 0], [0.462, 0, 0, 0], [0.471, 0.58, 0.91, 0.5], [0.481, 0.58, 0.91, 0.5], [0.49, 0.58, 0.91, 0.5], [0.5, 0.58, 0.91, 0.5], [0.51, 0.58, 0.91, 0.5], [0.519, 0.58, 0.91, 0.5], [0.529, 0.58, 0.91, 0.5], [0.538, 0.58, 0.91, 0.5], [0.548, 0.58, 0.91, 0.5], [0.558, 0.58, 0.91, 0.5], [0.567, 0.58, 0.91, 0.5], [0.577, 0.58, 0.91, 0.5], [0.587, 0.58, 0.91, 0.5], [0.596, 0.58, 0.91, 0.5], [0.606, 0.58, 0.91, 0.5], [0.615, 0.58, 0.91, 0.5], [0.625, 0.58, 0.91, 0.5], [0.635, 0.58, 0.91, 0.5], [0.644, 0.58, 0.91, 0.5], [0.654, 0.58, 0.91, 0.5], [0.663, 0.58, 0.91, 0.5], [0.673, 0.58, 0.91, 0.5], [0.683, 0.58, 0.91, 0.5], [0.692, 0.58, 0.91, 0.5], [0.702, 0.58, 0.91, 0.5], [0.712, 0.58, 0.91, 0.5], [0.721, 0.58, 0.91, 0.5], [0.731, 0.6, 0.38, 0.58], [0.74, 0.61, 0.66, 0.48], [0.75, 0.09, 0.76, 0.88], [0.76, 0, 0, 0], [0.769, 0.78, 0.3, 0.48], [0.779, 0.58, 0.91, 0.5], [0.788, 0.58, 0.91, 0.5], [0.798, 0.58, 0.91, 0.5], [0.808, 0.58, 0.91, 0.5], [0.817, 0.58, 0.91, 0.5], [0.827, 0.58, 0.91, 0.5], [0.837, 0.58, 0.91, 0.5], [0.846, 0.58, 0.91, 0.5], [0.856, 0.58, 0.91, 0.5], [0.865, 0.58, 0.91, 0.5], [0.875, 0.58, 0.91, 0.5], [0.885, 0.58, 0.91, 0.5], [0.894, 0.58, 0.91, 0.5], [0.904, 0.58, 0.91, 0.5], [0.913, 0.58, 0.91, 0.5], [0.923, 0.58, 0.91, 0.5], [0.933, 0.58, 0.91, 0.5], [0.942, 0.58, 0.91, 0.5], [0.952, 0.58, 0.91, 0.5], [0.962, 0.58, 0.91, 0.5], [0.971, 0.58, 0.91, 0.5], [0.981, 0.58, 0.91, 0.5], [0.99, 0.58, 0.91, 0.5], [1.0, 0.58, 0.91, 0.5]
        ]}]; // generated by `print_lut_for_papaya.py`
        totalseg_params["{{ totalseg_mask_basename }}"] = {"lut": "CustomTotalseg","min":0,"max":104};
        totalseg_params["smoothDisplay"] = false;
        totalseg_params["showOrientation"] = true;
        totalseg_params["mainView"] = "axial";
        totalseg_params["radiological"] = true;
        totalseg_params["ignoreNiftiTransforms"] = true;

    </script>

</head>
<body style="background-color:black;">

    {{case_id}}<br>
    <hr>
    <div class="container" style="display:flex;flex-flow: row wrap;">
        <div style="width:800px;height:300px;">
        <p2>manual<br></p2>
        <div class="papaya" data-params="manual_params"></div>
        </div>
        <div style="width:800px;height:300px;">
        <p2>totalsegmentator<br></p2>
        <div class="papaya" data-params="totalseg_params"></div>
        </div>
    </div>

</body>
</html>